import { Slider } from "./utils/slider";
import { WorkbenchUI } from "@/components/workbench";
import { Input } from "@/components/ui/input";

export function OpacityControl({
  value = 1,
  onValueChange,
}: {
  value?: number;
  onValueChange?: (value: number) => void;
}) {
  return (
    <div
      className={WorkbenchUI.inputVariants({
        variant: "container",
        size: "container",
      })}
    >
      <div className="flex-1">
        <Input
          className={WorkbenchUI.inputVariants({ size: "sm" })}
          value={value}
          type="number"
          min={0}
          max={1}
          step={0.01}
          onChange={(e) => {
            onValueChange?.(parseFloat(e.target.value));
          }}
        />
      </div>
      <div className="flex-1">
        <Slider
          min={0}
          max={1}
          step={0.01}
          value={value ? [value] : undefined}
          onValueChange={([v]) => {
            onValueChange?.(v);
          }}
        />
      </div>
    </div>
  );
}
